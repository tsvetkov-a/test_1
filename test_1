Если ppo_orders.ent_rec_id is not null, то выводим адрес Грузополучателя:
Ppo_orders.ent_rec_id => ent_entities.id = ent_addresses.ent_id = > ent_addresses.compact_adr (where main_addr = ‘Y’)
Иначе выводим адрес заказчика, ppo_orders.ent_rec_id is null
Ppo_orders.ent_id => ent_entities.id

Решение:


4.  {краткое наимен. Инв_счёт_комм}
Если ppo_orders.ent_inv_id заполнено, 
то выводить значение ent_entites.short_name соответствующее ppo_ordres.inv_id = ent_entities.id
Иначе – пусто.
Если инвестор в заказе заполнен, то выводим его. Его нет, то пусто.

